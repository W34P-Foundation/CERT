# Cloudflare Workers API for AMY-CERT
# Deploy using: npx wrangler deploy

name = "amycert-api"
main = "src/worker.js"
compatibility_date = "2024-01-01"

# Cloudflare D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "amycert-db"
database_id = "YOUR_DATABASE_ID_HERE"

# Environment variables (set via dashboard or wrangler secret)
[vars]
CORS_ORIGIN = "https://amycert.org"
ENVIRONMENT = "production"

# Routes
routes = [
  { pattern = "amycert.org/api/*", zone_name = "amycert.org" }
]

# Development settings
[dev]
port = 8787
local_protocol = "http"
